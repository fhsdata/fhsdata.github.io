/*! For license information please see f73e1de7.60deb21e.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_native_website=self.webpackChunkreact_native_website||[]).push([[70369],{67407:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var i=t(24246),o=t(71670);const r={id:"publishing-to-app-store",title:"Publishing to Apple App Store"},s=void 0,a={id:"publishing-to-app-store",title:"Publishing to Apple App Store",description:"The publishing process is the same as any other native iOS app, with some additional considerations to take into account.",source:"@site/versioned_docs/version-0.71/publishing-to-app-store.md",sourceDirName:".",slug:"/publishing-to-app-store",permalink:"/docs/0.71/publishing-to-app-store",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/react-native-website/blob/main/website/../docs/publishing-to-app-store.md",tags:[],version:"0.71",lastUpdatedAt:1682324415,formattedLastUpdatedAt:"Apr 24, 2023",frontMatter:{id:"publishing-to-app-store",title:"Publishing to Apple App Store"},sidebar:"docs",previous:{title:"App Extensions",permalink:"/docs/0.71/app-extensions"},next:{title:"About the New Architecture",permalink:"/docs/0.71/the-new-architecture/landing-page"}},l={},c=[{value:"1. Enable App Transport Security",id:"1-enable-app-transport-security",level:3},{value:"2. Configure release scheme",id:"2-configure-release-scheme",level:3},{value:"Pro Tips",id:"pro-tips",level:4},{value:"3. Build app for release",id:"3-build-app-for-release",level:3}];function d(e){const n=Object.assign({p:"p",admonition:"admonition",a:"a",h3:"h3",code:"code",strong:"strong",img:"img",h4:"h4",pre:"pre",ul:"ul",li:"li"},(0,o.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"The publishing process is the same as any other native iOS app, with some additional considerations to take into account."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["If you are using Expo, read the Expo guide for ",(0,i.jsx)(n.a,{href:"https://docs.expo.dev/distribution/app-stores/",children:"Deploying to App Stores"})," to build and submit your app for the Apple App Store. This guide works with any React Native app to automate the deployment process."]})}),"\n",(0,i.jsx)(n.h3,{id:"1-enable-app-transport-security",children:"1. Enable App Transport Security"}),"\n",(0,i.jsxs)(n.p,{children:["App Transport Security is a security feature introduced in iOS 9 that rejects all HTTP requests that are not sent over HTTPS. This can result in HTTP traffic being blocked, including the developer React Native server. ATS is disabled for ",(0,i.jsx)(n.code,{children:"localhost"})," by default in React Native projects in order to make development easier."]}),"\n",(0,i.jsxs)(n.p,{children:["You should re-enable ATS prior to building your app for production by removing the ",(0,i.jsx)(n.code,{children:"localhost"})," entry from the ",(0,i.jsx)(n.code,{children:"NSExceptionDomains"})," dictionary and setting ",(0,i.jsx)(n.code,{children:"NSAllowsArbitraryLoads"})," to ",(0,i.jsx)(n.code,{children:"false"})," in your ",(0,i.jsx)(n.code,{children:"Info.plist"})," file in the ",(0,i.jsx)(n.code,{children:"ios/"})," folder. You can also re-enable ATS from within Xcode by opening your target properties under the Info pane and editing the App Transport Security Settings entry."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"If your application needs to access HTTP resources on production, learn how to configure ATS on your project."})}),"\n",(0,i.jsx)(n.h3,{id:"2-configure-release-scheme",children:"2. Configure release scheme"}),"\n",(0,i.jsxs)(n.p,{children:["Building an app for distribution in the App Store requires using the ",(0,i.jsx)(n.code,{children:"Release"})," scheme in Xcode. Apps built for ",(0,i.jsx)(n.code,{children:"Release"})," will automatically disable the in-app Developer menu, which will prevent your users from inadvertently accessing the menu in production. It will also bundle the JavaScript locally, so you can put the app on a device and test whilst not connected to the computer."]}),"\n",(0,i.jsxs)(n.p,{children:["To configure your app to be built using the ",(0,i.jsx)(n.code,{children:"Release"})," scheme, go to ",(0,i.jsx)(n.strong,{children:"Product"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Scheme"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Edit Scheme"}),". Select the ",(0,i.jsx)(n.strong,{children:"Run"})," tab in the sidebar, then set the Build Configuration dropdown to ",(0,i.jsx)(n.code,{children:"Release"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:t(77879).Z+"",width:"718",height:"486"})}),"\n",(0,i.jsx)(n.h4,{id:"pro-tips",children:"Pro Tips"}),"\n",(0,i.jsxs)(n.p,{children:["As your App Bundle grows in size, you may start to see a blank screen flash between your splash screen and the display of your root application view. If this is the case, you can add the following code to ",(0,i.jsx)(n.code,{children:"AppDelegate.m"})," in order to keep your splash screen displayed during the transition."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectivec",children:'  // Place this code after "[self.window makeKeyAndVisible]" and before "return YES;"\n  UIStoryboard *sb = [UIStoryboard storyboardWithName:@"LaunchScreen" bundle:nil];\n  UIViewController *vc = [sb instantiateInitialViewController];\n  rootView.loadingView = vc.view;\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The static bundle is built every time you target a physical device, even in Debug. If you want to save time, turn off bundle generation in Debug by adding the following to your shell script in the Xcode Build Phase ",(0,i.jsx)(n.code,{children:"Bundle React Native code and images"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:' if [ "${CONFIGURATION}" == "Debug" ]; then\n  export SKIP_BUNDLING=true\n fi\n'})}),"\n",(0,i.jsx)(n.h3,{id:"3-build-app-for-release",children:"3. Build app for release"}),"\n",(0,i.jsxs)(n.p,{children:["You can now build your app for release by tapping ",(0,i.jsx)(n.code,{children:"\u2318B"})," or selecting ",(0,i.jsx)(n.strong,{children:"Product"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Build"})," from the menu bar. Once built for release, you'll be able to distribute the app to beta testers and submit the app to the App Store."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["You can also use the ",(0,i.jsx)(n.code,{children:"React Native CLI"})," to perform this operation using the option ",(0,i.jsx)(n.code,{children:"--mode"})," with the value ",(0,i.jsx)(n.code,{children:"Release"})," (e.g. ",(0,i.jsx)(n.code,{children:"npx react-native run-ios --mode Release"}),")."]})}),"\n",(0,i.jsx)(n.p,{children:"Once you are done with the testing and ready to publish to App Store, follow along with this guide."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Launch your terminal, and navigate into the iOS folder of your app and type ",(0,i.jsx)(n.code,{children:"open ."}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Double click on YOUR_APP_NAME.xcworkspace. It should launch XCode."}),"\n",(0,i.jsxs)(n.li,{children:["Click on ",(0,i.jsx)(n.code,{children:"Product"})," \u2192 ",(0,i.jsx)(n.code,{children:"Archive"}),'. Make sure to set the device to "Any iOS Device (arm64)".']}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"Check your Bundle Identifier and make sure it is exactly same as the one you have created in the Identifiers in Apple Developer Dashboard."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["After the archive is completed, in the archive window, click on ",(0,i.jsx)(n.code,{children:"Distribute App"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Click on ",(0,i.jsx)(n.code,{children:"App Store Connect"})," now (if you want to publish in App Store)."]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.code,{children:"Upload"})," \u2192 Make sure all the check boxes are selected, hit ",(0,i.jsx)(n.code,{children:"Next"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Choose between ",(0,i.jsx)(n.code,{children:"Automatically manage signing"})," and ",(0,i.jsx)(n.code,{children:"Manually manage signing"})," based on your needs."]}),"\n",(0,i.jsxs)(n.li,{children:["Click on ",(0,i.jsx)(n.code,{children:"Upload"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Now you can find it in the App Store Connect under TestFlight."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Now fill up the necessary information and in the Build Section, select the build of the app and click on ",(0,i.jsx)(n.code,{children:"Save"})," \u2192 ",(0,i.jsx)(n.code,{children:"Submit For Review"}),"."]})]})}const p=function(e={}){const{wrapper:n}=Object.assign({},(0,o.ah)(),e.components);return n?(0,i.jsx)(n,Object.assign({},e,{children:(0,i.jsx)(d,e)})):d(e)}},71426:(e,n,t)=>{var i=t(27378),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var i,r={},c=null,d=null;for(i in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)s.call(n,i)&&!l.hasOwnProperty(i)&&(r[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps)void 0===r[i]&&(r[i]=n[i]);return{$$typeof:o,type:e,key:c,ref:d,props:r,_owner:a.current}}n.Fragment=r,n.jsx=c,n.jsxs=c},24246:(e,n,t)=>{e.exports=t(71426)},77879:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/ConfigureReleaseScheme-68e17e8d9a2cf2b73adb47865b45399d.png"},71670:(e,n,t)=>{t.d(n,{Zo:()=>a,ah:()=>r});var i=t(27378);const o=i.createContext({});function r(e){const n=i.useContext(o);return i.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const s={};function a({components:e,children:n,disableParentContext:t}){let a;return a=t?"function"==typeof e?e({}):e||s:r(e),i.createElement(o.Provider,{value:a},n)}}}]);