<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-contributing docs-version-current docs-doc-page docs-doc-id-how-to-run-and-write-tests" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0-beta.0">
<title data-rh="true">How to Run and Write Tests Â· React Native</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://reactnative.dev/contributing/how-to-run-and-write-tests"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="https://reactnative.dev/img/logo-og.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:image" content="https://reactnative.dev/img/logo-og.png"><meta data-rh="true" name="twitter:site" content="@reactnative"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-contributing-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-contributing-current"><meta data-rh="true" property="og:title" content="How to Run and Write Tests Â· React Native"><meta data-rh="true" name="description" content="Running Tests"><meta data-rh="true" property="og:description" content="Running Tests"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://reactnative.dev/contributing/how-to-run-and-write-tests"><link data-rh="true" rel="alternate" href="https://reactnative.dev/contributing/how-to-run-and-write-tests" hreflang="en"><link data-rh="true" rel="alternate" href="https://reactnative.dev/contributing/how-to-run-and-write-tests" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://8TDSE0OHGQ-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="React Native RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="React Native Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="React Native JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-41298772-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-58L13S6BDP"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-58L13S6BDP",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="React Native" href="/opensearch.xml">




<link rel="icon" href="/img/pwa/manifest-icon-512.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#20232a">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#20232a">
<link rel="apple-touch-icon" href="/img/pwa/manifest-icon-512.png">
<link rel="mask-icon" href="/img/pwa/manifest-icon-512.png" color="#06bcee">
<meta name="msapplication-TileImage" href="/img/pwa/manifest-icon-512.png">
<meta name="msapplication-TileColor" content="#20232a">
<script src="https://cdn.jsdelivr.net/npm/focus-visible@5.2.0/dist/focus-visible.min.js" defer="defer"></script>
<script src="https://widget.surveymonkey.com/collect/website/js/tRaiETqnLgj758hTBazgd8ryO5qrZo8Exadq9qmt1wtm4_2FdZGEAKHDFEt_2BBlwwM4.js" defer="defer"></script>
<script src="https://snack.expo.dev/embed.js" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.2bc6ef58.css">
<script src="/assets/js/runtime~main.ef3cfa2b.js" defer="defer"></script>
<script src="/assets/js/main.8ee156c4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_zJRd" style="background-color:#20232a;color:#fff" role="banner"><div class="content_bSb_ announcementBarContent_t7IR">Support Ukraine ðŸ‡ºðŸ‡¦ <a target="_blank" rel="noopener noreferrer" href="https://opensource.facebook.com/support-ukraine"> Help Provide Humanitarian Aid to Ukraine</a>.</div></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/header_logo.svg" alt="React Native" class="themedComponent_siVc themedComponent--light_hHel"><img src="/img/header_logo.svg" alt="React Native" class="themedComponent_siVc themedComponent--dark_yETr"></div><b class="navbar__title text--truncate">React Native</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Development</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/getting-started">Guides</a></li><li><a class="dropdown__link" href="/docs/components-and-apis">Components</a></li><li><a class="dropdown__link" href="/docs/accessibilityinfo">APIs</a></li><li><a class="dropdown__link" href="/architecture/overview">Architecture</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/contributing/overview">Contributing</a><a class="navbar__item navbar__link" href="/community/overview">Community</a><a class="navbar__item navbar__link" href="/showcase">Showcase</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/facebook/react-native" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link" aria-label="GitHub repository"></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m darkNavbarColorModeToggle_m8pZ" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_WqAV"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r"><div class="docsWrapper__sE8"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docRoot_DfVB"><aside class="theme-doc-sidebar-container docSidebarContainer_c7NB"><div class="sidebarViewport_KYo0"><div class="sidebar_CUen"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1 menuWithAnnouncementBar_YufC"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/contributing/overview">Contributing to React Native</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/overview">Contributing Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/how-to-contribute-code">How to Contribute Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/how-to-build-from-source">How to Build from Source</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/contributing/how-to-run-and-write-tests">How to Run and Write Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/how-to-open-a-pull-request">How to Open a Pull Request</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/changelogs-in-pull-requests">Changelogs in Pull Requests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/how-to-file-an-issue">How to File an Issue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/contribution-license-agreement">Contribution License Agreement</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0">Managing repository</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/triaging-github-issues">Triaging GitHub Issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/labeling-github-issues">Labeling GitHub Issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/managing-pull-requests">Managing Pull Requests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/bots-reference">Bots Reference</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_a9sJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How to Run and Write Tests</h1></header><h2 class="anchor anchorWithStickyNavbar_JmGV" id="running-tests">Running Tests<a href="#running-tests" class="hash-link" aria-label="Direct link to Running Tests" title="Direct link to Running Tests">â€‹</a></h2>
<p>This section is about testing your changes to React Native as a contributor. If you haven&#x27;t yet, go through the steps to set up your development environment for <a href="/docs/environment-setup">building projects with native code</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="javascript-tests">JavaScript Tests<a href="#javascript-tests" class="hash-link" aria-label="Direct link to JavaScript Tests" title="Direct link to JavaScript Tests">â€‹</a></h3>
<p>The simplest way to run the JavaScript test suite is by using the following command at the root of your React Native checkout:</p>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token function" style="color:#79b6f2">yarn</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#fac863">test</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will run tests using <a href="https://jestjs.io" target="_blank" rel="noopener noreferrer">Jest</a>.</p>
<p>You should also make sure your code passes <a href="https://flowtype.org/" target="_blank" rel="noopener noreferrer">Flow</a> and lint tests:</p>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token function" style="color:#79b6f2">yarn</span><span class="token plain"> flow</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token function" style="color:#79b6f2">yarn</span><span class="token plain"> lint</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="ios-tests">iOS Tests<a href="#ios-tests" class="hash-link" aria-label="Direct link to iOS Tests" title="Direct link to iOS Tests">â€‹</a></h3>
<p>Follow the <a href="https://github.com/facebook/react-native/blob/main/packages/rn-tester/README.md" target="_blank" rel="noopener noreferrer">README.md</a> instructions in the <code>packages/rn-tester</code> directory.</p>
<p>Then, go back to the root of your React Native checkout and run <code>yarn</code>. This will set up your JavaScript dependencies.</p>
<p>At this point, you can run iOS tests by invoking the following script from the root of your React Native checkout:</p>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">./scripts/objc-test.sh </span><span class="token builtin class-name" style="color:#fac863">test</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can also use Xcode to run iOS tests. Open <code>RNTester/RNTesterPods.xcworkspace</code> and run tests locally by pressing <kbd>Command + U</kbd> or selecting <code>Product</code> then <code>Test</code> from the menubar.</p>
<p>Xcode also allows running individual tests through its Test Navigator. You can also use <kbd>Command + 6</kbd> shortcut.</p>
<div class="theme-admonition theme-admonition-note admonition_WCGJ alert alert--secondary"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_pbrs"><p><code>objc-test.sh</code> ensures your test environment is set up to run all tests. It also disables tests that are known to be flaky or broken. Keep this in mind when running tests using Xcode. If you see an unexpected failure, see if it&#x27;s disabled in <code>objc-test.sh</code> first.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id="ios-podfileruby-tests">iOS Podfile/Ruby tests<a href="#ios-podfileruby-tests" class="hash-link" aria-label="Direct link to iOS Podfile/Ruby tests" title="Direct link to iOS Podfile/Ruby tests">â€‹</a></h4>
<p>If you are making modifications to <code>Podfile</code> configurations then there are Ruby tests that can verify these.</p>
<p>To run the ruby tests:</p>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token builtin class-name" style="color:#fac863">cd</span><span class="token plain"> scripts</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token function" style="color:#79b6f2">sh</span><span class="token plain"> run_ruby_tests.sh</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="android-tests">Android Tests<a href="#android-tests" class="hash-link" aria-label="Direct link to Android Tests" title="Direct link to Android Tests">â€‹</a></h3>
<p>The Android Unit tests do not run in an emulator, but they run on the JVM on your local machine.</p>
<p>To run the Android Unit tests, invoke the following script from the root of your React Native checkout:</p>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">./gradlew </span><span class="token builtin class-name" style="color:#fac863">test</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="writing-tests">Writing Tests<a href="#writing-tests" class="hash-link" aria-label="Direct link to Writing Tests" title="Direct link to Writing Tests">â€‹</a></h2>
<p>Whenever you are fixing a bug or adding new functionality to React Native, it is a good idea to add a test that covers it. Depending on the change you&#x27;re making, there are different types of tests that may be appropriate.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="javascript-tests-1">JavaScript Tests<a href="#javascript-tests-1" class="hash-link" aria-label="Direct link to JavaScript Tests" title="Direct link to JavaScript Tests">â€‹</a></h3>
<p>The JavaScript tests can be found inside <code>__test__</code> directories, colocated next to the files that are being tested. See <a href="https://github.com/facebook/react-native/blob/main/Libraries/Components/Touchable/__tests__/TouchableHighlight-test.js" target="_blank" rel="noopener noreferrer"><code>TouchableHighlight-test.js</code></a> for a basic example. You can also follow Jest&#x27;s <a href="https://jestjs.io/docs/en/tutorial-react-native" target="_blank" rel="noopener noreferrer">Testing React Native Apps</a> tutorial to learn more.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="ios-integration-tests">iOS Integration Tests<a href="#ios-integration-tests" class="hash-link" aria-label="Direct link to iOS Integration Tests" title="Direct link to iOS Integration Tests">â€‹</a></h3>
<p>React Native provides facilities to make it easier to test integrated components that require both native and JS components to communicate across the bridge.</p>
<p>The two main components are <code>RCTTestRunner</code> and <code>RCTTestModule</code>. <code>RCTTestRunner</code> sets up the React Native environment and provides facilities to run the tests as <code>XCTestCase</code>s in Xcode (<code>runTest:module</code> is the simplest method). <code>RCTTestModule</code> is exported to JavaScript as <code>NativeModules.TestModule</code>.</p>
<p>The tests themselves are written in JS, and must call <code>TestModule.markTestCompleted()</code> when they are done, otherwise the test will timeout and fail.</p>
<p>Test failures are primarily indicated by throwing a JS exception. It is also possible to test error conditions with <code>runTest:module:initialProps:expectErrorRegex:</code> or <code>runTest:module:initialProps:expectErrorBlock:</code> which will expect an error to be thrown and verify the error matches the provided criteria.</p>
<p>See the following for example usage and integration points:</p>
<ul>
<li><a href="https://github.com/facebook/react-native/blob/main/IntegrationTests/IntegrationTestHarnessTest.js" target="_blank" rel="noopener noreferrer"><code>IntegrationTestHarnessTest.js</code></a></li>
<li><a href="https://github.com/facebook/react-native/blob/main/RNTester/RNTesterIntegrationTests/RNTesterIntegrationTests.m" target="_blank" rel="noopener noreferrer"><code>RNTesterIntegrationTests.m</code></a></li>
<li><a href="https://github.com/facebook/react-native/blob/main/IntegrationTests/IntegrationTestsApp.js" target="_blank" rel="noopener noreferrer"><code>IntegrationTestsApp.js</code></a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="ios-snapshot-tests">iOS Snapshot Tests<a href="#ios-snapshot-tests" class="hash-link" aria-label="Direct link to iOS Snapshot Tests" title="Direct link to iOS Snapshot Tests">â€‹</a></h3>
<p>A common type of integration test is the snapshot test. These tests render a component, and verify snapshots of the screen against reference images using <code>TestModule.verifySnapshot()</code>, using the <a href="https://github.com/facebook/ios-snapshot-test-case" target="_blank" rel="noopener noreferrer"><code>FBSnapshotTestCase</code></a> library behind the scenes. Reference images are recorded by setting <code>recordMode = YES</code> on the <code>RCTTestRunner</code>, then running the tests.</p>
<p>Snapshots will differ slightly between 32 and 64 bit, and various OS versions, so it&#x27;s recommended that you enforce tests are run with the <a href="https://github.com/facebook/react-native/blob/main/scripts/.tests.env" target="_blank" rel="noopener noreferrer">correct configuration</a>.</p>
<p>It&#x27;s also highly recommended that all network data be mocked out, along with other potentially troublesome dependencies. See <a href="https://github.com/facebook/react-native/blob/main/IntegrationTests/SimpleSnapshotTest.js" target="_blank" rel="noopener noreferrer"><code>SimpleSnapshotTest</code></a> for a basic example.</p>
<p>If you make a change that affects a snapshot test in a pull request, such as adding a new example case to one of the examples that is snapshotted, you&#x27;ll need to re-record the snapshot reference image.</p>
<p>To do this, change <code>recordMode</code> flag to <code>_runner.recordMode = YES;</code> in <a href="https://github.com/facebook/react-native/blob/136666e2e7d2bb8d3d51d599fc1384a2f68c43d3/RNTester/RNTesterIntegrationTests/RNTesterSnapshotTests.m#L29" target="_blank" rel="noopener noreferrer">RNTester/RNTesterSnapshotTests.m</a>, re-run the failing tests, then flip record back to <code>NO</code> and submit/update your pull request and wait to see if the CircleCI build passes.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="android-unit-tests">Android Unit Tests<a href="#android-unit-tests" class="hash-link" aria-label="Direct link to Android Unit Tests" title="Direct link to Android Unit Tests">â€‹</a></h3>
<p>It&#x27;s a good idea to add an Android unit test whenever you are working on code that can be tested by Java/Kotlin code alone. The Android unit tests are located in <code>packages/react-native/ReactAndroid/src/test/</code>.</p>
<p>We recommend browsing through these to get an idea of what a good unit test might look like.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="continuous-testing">Continuous Testing<a href="#continuous-testing" class="hash-link" aria-label="Direct link to Continuous Testing" title="Direct link to Continuous Testing">â€‹</a></h2>
<p>We use <a href="https://github.com/facebook/react-native/blob/main/.circleci/config.yml" target="_blank" rel="noopener noreferrer">CircleCI</a> to automatically run our open source tests. CircleCI will run these tests whenever a commit is added to a pull request, as a way to help maintainers understand whether a code change introduces a regression. The tests also run on commits to the <code>main</code> and <code>*-stable</code> branches in order to keep track of the health of these branches.</p>
<p>There&#x27;s another set of tests that run within Meta&#x27;s internal test infrastructure. Some of these tests are integration tests defined by internal consumers of React Native (e.g. unit tests for a React Native surface in the Facebook app).</p>
<p>These tests run on every commit to the copy of React Native hosted on Facebook&#x27;s source control. They also run when a pull request is imported to Facebook&#x27;s source control.</p>
<p>If one of these tests fail, you&#x27;ll need someone at Meta to take a look. Since pull requests can only be imported by Meta employees, whoever imported the pull request should be able to facilitate any details.</p>
<div class="theme-admonition theme-admonition-note admonition_WCGJ alert alert--secondary"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_pbrs"><p><strong>Running CI tests locally:</strong>
Most open source collaborators rely on CircleCI to see the results of these tests. If you&#x27;d rather verify your changes locally using the same configuration as CircleCI, CircleCI provides a <a href="https://circleci.com/docs/local-cli" target="_blank" rel="noopener noreferrer">command line interface</a> with the ability to run jobs locally.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="faq">F.A.Q.<a href="#faq" class="hash-link" aria-label="Direct link to F.A.Q." title="Direct link to F.A.Q.">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id="how-do-i-upgrade-the-xcode-version-used-in-ci-tests">How do I upgrade the Xcode version used in CI tests?<a href="#how-do-i-upgrade-the-xcode-version-used-in-ci-tests" class="hash-link" aria-label="Direct link to How do I upgrade the Xcode version used in CI tests?" title="Direct link to How do I upgrade the Xcode version used in CI tests?">â€‹</a></h4>
<p>When upgrading to a new version of Xcode, first make sure it is <a href="https://circleci.com/docs/testing-ios#supported-xcode-versions" target="_blank" rel="noopener noreferrer">supported by CircleCI</a>.</p>
<p>You will also need to update the test environment config to make sure tests run on an iOS Simulator that comes installed in the CircleCI machine.</p>
<p>This can also be found in <a href="https://circleci.com/docs/2.0/testing-ios/#supported-xcode-versions" target="_blank" rel="noopener noreferrer">CircleCI&#x27;s Xcode version reference</a> by clicking the desired version and looking under Runtimes.</p>
<p>You can then edit these two files:</p>
<ul>
<li>
<p><code>.circleci/config.yml</code></p>
<p>Edit the <code>xcode:</code> line under <code>macos:</code> (search for <code>_XCODE_VERSION</code>).</p>
</li>
<li>
<p><code>scripts/.tests.env</code></p>
<p>Edit the <code>IOS_TARGET_OS</code> envvar to match the desired iOS Runtime.</p>
</li>
</ul>
<p>If you intend to merge this change on GitHub, please make sure to notify a Meta employee as they&#x27;ll need to update the value of <code>_XCODE_VERSION</code> used in the internal Sandcastle RN OSS iOS test in <code>react_native_oss.py</code> when they import your pull request.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/react-native-website/blob/main/website/contributing/how-to-run-and-write-tests.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_VsjB"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-01-23T15:59:01.000Z">Jan 23, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/contributing/how-to-build-from-source"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">How to Build from Source</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/contributing/how-to-open-a-pull-request"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How to Open a Pull Request</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#running-tests" class="table-of-contents__link toc-highlight">Running Tests</a><ul><li><a href="#javascript-tests" class="table-of-contents__link toc-highlight">JavaScript Tests</a></li><li><a href="#ios-tests" class="table-of-contents__link toc-highlight">iOS Tests</a></li><li><a href="#android-tests" class="table-of-contents__link toc-highlight">Android Tests</a></li></ul></li><li><a href="#writing-tests" class="table-of-contents__link toc-highlight">Writing Tests</a><ul><li><a href="#javascript-tests-1" class="table-of-contents__link toc-highlight">JavaScript Tests</a></li><li><a href="#ios-integration-tests" class="table-of-contents__link toc-highlight">iOS Integration Tests</a></li><li><a href="#ios-snapshot-tests" class="table-of-contents__link toc-highlight">iOS Snapshot Tests</a></li><li><a href="#android-unit-tests" class="table-of-contents__link toc-highlight">Android Unit Tests</a></li></ul></li><li><a href="#continuous-testing" class="table-of-contents__link toc-highlight">Continuous Testing</a><ul><li><a href="#faq" class="table-of-contents__link toc-highlight">F.A.Q.</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Develop</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/components-and-apis">Components</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/accessibilityinfo">APIs</a></li><li class="footer__item"><a class="footer__link-item" href="/architecture/overview">Architecture</a></li></ul></div><div class="col footer__col"><div class="footer__title">Participate</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/showcase">Showcase</a></li><li class="footer__item"><a class="footer__link-item" href="/contributing/overview">Contributing</a></li><li class="footer__item"><a class="footer__link-item" href="/community/overview">Community</a></li><li class="footer__item"><a href="https://reactnative.directory/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Directory<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/react-native" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Find us</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://twitter.com/reactnative" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/facebook/react-native" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Explore More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://reactjs.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ReactJS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Service<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.fb.com/" rel="noopener noreferrer" class="footerLogoLink_tutC"><img src="/img/oss_logo.svg" alt="Meta Open Source Logo" class="footer__logo themedComponent_siVc themedComponent--light_hHel"><img src="/img/oss_logo.svg" alt="Meta Open Source Logo" class="footer__logo themedComponent_siVc themedComponent--dark_yETr"></a></div><div class="footer__copyright">Copyright Â© 2024 Meta Platforms, Inc.</div></div></div></footer></div>
</body>
</html>