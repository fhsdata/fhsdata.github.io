<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0-beta.0">
<title data-rh="true">Toward Hermes being the Default · React Native</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://reactnative.dev/blog/2021/10/26/toward-hermes-being-the-default"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:image" content="https://reactnative.dev/img/logo-og.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:image" content="https://reactnative.dev/img/logo-og.png"><meta data-rh="true" name="twitter:site" content="@reactnative"><meta data-rh="true" property="og:title" content="Toward Hermes being the Default · React Native"><meta data-rh="true" name="description" content="Since we announced Hermes in 2019, it has been increasingly gaining adoption in the community. The team at Expo, who maintain a popular meta-framework for React Native apps, recently announced experimental support for Hermes after being one of the most requested features of Expo. The team at Realm, a popular mobile database, also recently shipped its alpha support for Hermes. In this post, we want to highlight some of the most exciting progress we&#x27;ve made over the past two years to push Hermes towards being the best JavaScript engine for React Native. Looking forward, we are confident that with these improvements and more to come, we can make Hermes the default JavaScript engine for React Native across all platforms."><meta data-rh="true" property="og:description" content="Since we announced Hermes in 2019, it has been increasingly gaining adoption in the community. The team at Expo, who maintain a popular meta-framework for React Native apps, recently announced experimental support for Hermes after being one of the most requested features of Expo. The team at Realm, a popular mobile database, also recently shipped its alpha support for Hermes. In this post, we want to highlight some of the most exciting progress we&#x27;ve made over the past two years to push Hermes towards being the best JavaScript engine for React Native. Looking forward, we are confident that with these improvements and more to come, we can make Hermes the default JavaScript engine for React Native across all platforms."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2021-10-26T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://twitter.com/huxpro"><meta data-rh="true" property="article:tag" content="announcement"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://reactnative.dev/blog/2021/10/26/toward-hermes-being-the-default"><link data-rh="true" rel="alternate" href="https://reactnative.dev/blog/2021/10/26/toward-hermes-being-the-default" hreflang="en"><link data-rh="true" rel="alternate" href="https://reactnative.dev/blog/2021/10/26/toward-hermes-being-the-default" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://8TDSE0OHGQ-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="React Native RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="React Native Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="React Native JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-41298772-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-58L13S6BDP"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-58L13S6BDP",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="React Native" href="/opensearch.xml">




<link rel="icon" href="/img/pwa/manifest-icon-512.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#20232a">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#20232a">
<link rel="apple-touch-icon" href="/img/pwa/manifest-icon-512.png">
<link rel="mask-icon" href="/img/pwa/manifest-icon-512.png" color="#06bcee">
<meta name="msapplication-TileImage" href="/img/pwa/manifest-icon-512.png">
<meta name="msapplication-TileColor" content="#20232a">
<script src="https://cdn.jsdelivr.net/npm/focus-visible@5.2.0/dist/focus-visible.min.js" defer="defer"></script>
<script src="https://widget.surveymonkey.com/collect/website/js/tRaiETqnLgj758hTBazgd8ryO5qrZo8Exadq9qmt1wtm4_2FdZGEAKHDFEt_2BBlwwM4.js" defer="defer"></script>
<script src="https://snack.expo.dev/embed.js" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.2bc6ef58.css">
<script src="/assets/js/runtime~main.ef3cfa2b.js" defer="defer"></script>
<script src="/assets/js/main.8ee156c4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_zJRd" style="background-color:#20232a;color:#fff" role="banner"><div class="content_bSb_ announcementBarContent_t7IR">Support Ukraine 🇺🇦 <a target="_blank" rel="noopener noreferrer" href="https://opensource.facebook.com/support-ukraine"> Help Provide Humanitarian Aid to Ukraine</a>.</div></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/header_logo.svg" alt="React Native" class="themedComponent_siVc themedComponent--light_hHel"><img src="/img/header_logo.svg" alt="React Native" class="themedComponent_siVc themedComponent--dark_yETr"></div><b class="navbar__title text--truncate">React Native</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Development</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/getting-started">Guides</a></li><li><a class="dropdown__link" href="/docs/components-and-apis">Components</a></li><li><a class="dropdown__link" href="/docs/accessibilityinfo">APIs</a></li><li><a class="dropdown__link" href="/architecture/overview">Architecture</a></li></ul></div><a class="navbar__item navbar__link" href="/contributing/overview">Contributing</a><a class="navbar__item navbar__link" href="/community/overview">Community</a><a class="navbar__item navbar__link" href="/showcase">Showcase</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a href="https://github.com/facebook/react-native" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link" aria-label="GitHub repository"></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m darkNavbarColorModeToggle_m8pZ" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_WqAV"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_brwN thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarHeader_yTb0 margin-bottom--md">All Blog Posts</div><ul class="sidebarItemList_QwSx clean-list"><h5 class="sidebarItemTitle_r4Q1">2023</h5><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2023/12/06/0.73-debugging-improvements-stable-symlinks">React Native 0.73 - Debugging Improvements, Stable Symlink Support, and more</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2023/06/21/0.72-metro-package-exports-symlinks">React Native 0.72 - Symlink Support, Better Errors, and more</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2023/06/21/package-exports-support">Package Exports Support in React Native</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2023/01/27/71rc1-android-outage-postmortem">React Native 0.71-RC0 Android outage postmortem</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2023/01/12/version-071">React Native 0.71: TypeScript by Default, Flexbox Gap, and more...</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2023/01/03/typescript-first">First-class Support for TypeScript</a></li><h5 class="sidebarItemTitle_r4Q1">2022</h5><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2022/12/13/pointer-events-in-react-native">Pointer Events in React Native</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2022/11/22/react-native-core-contributor-summit-2022">React Native Core Contributor Summit 2022</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2022/09/05/version-070">Announcing React Native 0.70</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2022/07/08/hermes-as-the-default">Hermes as the Default</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2022/06/21/version-069">Announcing React Native 0.69</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2022/06/16/resources-migrating-your-react-native-library-to-the-new-architecture">Helping migrate React Native libraries to the New Architecture</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2022/05/19/GAAD-2022-update">React Native Accessibility - GAAD 2022 Update</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2022/03/30/version-068">Announcing React Native 0.68</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2022/03/15/an-update-on-the-new-architecture-rollout">An update on the New Architecture Rollout</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2022/01/21/react-native-h2-2021-recap">React Native - H2 2021 Recap</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2022/01/19/version-067">Announcing React Native 0.67</a></li><h5 class="sidebarItemTitle_r4Q1">2021</h5><li class="sidebarItem_lnhn"><a aria-current="page" class="sidebarItemLink_yNGZ sidebarItemLinkActive_oSRm" href="/blog/2021/10/26/toward-hermes-being-the-default">Toward Hermes being the Default</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2021/10/01/version-066">Announcing React Native 0.66</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2021/09/01/preparing-your-app-for-iOS-15-and-android-12">Preparing Your App for iOS 15 and Android 12</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2021/08/30/react-native-is-hiring-managers">React Native Is Hiring Managers, To Expand Beyond Mobile</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2021/08/26/many-platform-vision">React Native&#x27;s Many Platform Vision</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2021/08/19/h2-2021">React Native in H2 2021</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2021/08/17/version-065">Announcing React Native 0.65</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2021/05/20/GAAD-One-Year-Later">The GAAD Pledge - One Year Later</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2021/04/08/GAAD-March-Accessibility-Issue-Update">The GAAD Pledge - March Accessibility Issues Update</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2021/03/12/version-0.64">Announcing React Native 0.64 with Hermes on iOS</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2021/03/08/GAAD-React-Native-Accessibility">The GAAD Pledge - Improving React Native Accessibility</a></li><h5 class="sidebarItemTitle_r4Q1">2020</h5><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2020/07/23/docs-update">React Native Documentation Update</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2020/07/17/react-native-principles">React Native Team Principles</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2020/07/06/version-0.63">Announcing React Native 0.63 with LogBox</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2020/03/26/version-0.62">Announcing React Native 0.62 with Flipper</a></li><h5 class="sidebarItemTitle_r4Q1">2019</h5><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2019/11/18/react-native-doctor">Meet Doctor, a new React Native command</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2019/09/18/version-0.61">Announcing React Native 0.61 with Fast Refresh</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2019/07/17/hermes">Meet Hermes, a new JavaScript Engine optimized for React Native</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2019/07/03/version-60">Announcing React Native 0.60</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2019/06/12/react-native-open-source-update">React Native Open Source Update June 2019</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2019/05/01/react-native-at-f8-and-podcast">React Native at F8 and Open Source Podcast</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2019/03/12/releasing-react-native-059">Releasing React Native 0.59</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2019/03/01/react-native-open-source-update">React Native Open Source Update March 2019</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2019/01/07/state-of-react-native-community">The State of the React Native Community in 2018</a></li><h5 class="sidebarItemTitle_r4Q1">2018</h5><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2018/11/01/oss-roadmap">Open Source Roadmap</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2018/08/27/wkwebview">Introducing new iOS WebViews</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2018/08/13/react-native-accessibility-updates">Accessibility API Updates</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2018/07/04/releasing-react-native-056">Releasing 0.56</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2018/06/14/state-of-react-native-2018">State of React Native 2018</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2018/05/07/using-typescript-with-react-native">Using TypeScript with React Native</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2018/04/09/build-com-app">Built with React Native - The Build.com app</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2018/03/22/building-input-accessory-view-for-react-native">Building &lt;InputAccessoryView&gt; For React Native</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2018/03/05/AWS-app-sync">Using AWS with React Native</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2018/01/18/implementing-twitters-app-loading-animation-in-react-native">Implementing Twitter’s App Loading Animation in React Native</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2018/01/09/react-native-monthly-6">React Native Monthly #6</a></li><h5 class="sidebarItemTitle_r4Q1">2017</h5><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2017/11/06/react-native-monthly-5">React Native Monthly #5</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2017/09/21/react-native-monthly-4">React Native Monthly #4</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2017/08/30/react-native-monthly-3">React Native Monthly #3</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2017/08/07/react-native-performance-in-marketplace">React Native Performance in Marketplace</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2017/07/28/react-native-monthly-2">React Native Monthly #2</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2017/06/21/react-native-monthly-1">React Native Monthly #1</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2017/03/13/better-list-views">Better List Views in React Native</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2017/03/13/idx-the-existential-function">idx: The Existential Function</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2017/03/13/introducing-create-react-native-app">Introducing Create React Native App</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2017/02/14/using-native-driver-for-animated">Using Native Driver for Animated</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2017/01/07/monthly-release-cadence">A Monthly Release Cadence: Releasing December and January RC</a></li><h5 class="sidebarItemTitle_r4Q1">2016</h5><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2016/12/05/easier-upgrades">Easier Upgrades Thanks to Git</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2016/11/08/introducing-button-yarn-and-a-public-roadmap">Introducing Button, Faster Installs with Yarn, and a Public Roadmap</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2016/10/25/0.36-headless-js-the-keyboard-api-and-more">0.36: Headless JS, the Keyboard API, &amp; more</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2016/09/08/exponent-talks-unraveling-navigation">Expo Talks: Adam on Unraveling Navigation</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2016/08/19/right-to-left-support-for-react-native-apps">Right-to-Left Layout Support For React Native Apps</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2016/08/12/react-native-meetup-san-francisco">San Francisco Meetup Recap</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2016/07/06/toward-better-documentation">Toward Better Documentation</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2016/04/13/react-native-a-year-in-review">React Native: A year in review</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2016/03/28/dive-into-react-native-performance">Dive into React Native Performance</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2016/03/24/introducing-hot-reloading">Introducing Hot Reloading</a></li><h5 class="sidebarItemTitle_r4Q1">2015</h5><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2015/11/23/making-react-native-apps-accessible">Making React Native apps accessible</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2015/09/14/react-native-for-android">React Native for Android: How we built the first cross-platform React Native app</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/2015/03/26/react-native-bringing-modern-web-techniques-to-mobile">React Native: Bringing modern web techniques to mobile</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Since we announced Hermes in 2019, it has been increasingly gaining adoption in the community. The team at Expo, who maintain a popular meta-framework for React Native apps, recently announced experimental support for Hermes after being one of the most requested features of Expo. The team at Realm, a popular mobile database, also recently shipped its alpha support for Hermes. In this post, we want to highlight some of the most exciting progress we&#x27;ve made over the past two years to push Hermes towards being the best JavaScript engine for React Native. Looking forward, we are confident that with these improvements and more to come, we can make Hermes the default JavaScript engine for React Native across all platforms."><header><h1 class="title_Kdtz" itemprop="headline">Toward Hermes being the Default</h1><div class="container_iZB2 margin-vert--md"><time datetime="2021-10-26T00:00:00.000Z" itemprop="datePublished">October 26, 2021</time> · <!-- -->12 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_v1VX"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/huxpro" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/huxpro.png" alt="Xuan Huang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/huxpro" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Xuan Huang</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineer at Meta</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>Since <a href="https://engineering.fb.com/2019/07/12/android/hermes/" target="_blank" rel="noopener noreferrer">we announced Hermes in 2019</a>, it has been increasingly gaining adoption in the community. The team at <a href="https://expo.dev/" target="_blank" rel="noopener noreferrer">Expo</a>, who maintain a popular meta-framework for React Native apps, recently <a href="https://blog.expo.dev/expo-sdk-42-579aee2348b6" target="_blank" rel="noopener noreferrer">announced experimental</a> <a href="https://blog.expo.dev/expo-sdk-43-beta-is-now-available-47dc54a8d29f" target="_blank" rel="noopener noreferrer">support</a> for Hermes after being <a href="https://expo.canny.io/feature-requests/p/enabling-hermes" target="_blank" rel="noopener noreferrer">one of the most requested features of Expo</a>. The team at <a href="https://realm.io/" target="_blank" rel="noopener noreferrer">Realm</a>, a popular mobile database, also recently shipped its <a href="https://github.com/realm/realm-js/issues/3940" target="_blank" rel="noopener noreferrer">alpha support</a> for Hermes. In this post, we want to highlight some of the most exciting progress we&#x27;ve made over the past two years to push Hermes towards being <em>the best</em> JavaScript engine for React Native. Looking forward, we are confident that with these improvements and more to come, we can make Hermes the default JavaScript engine for React Native across all platforms.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="optimizing-for-react-native">Optimizing for React Native<a href="#optimizing-for-react-native" class="hash-link" aria-label="Direct link to Optimizing for React Native" title="Direct link to Optimizing for React Native">​</a></h2>
<p>Hermes’s defining feature is how it performs compilation work ahead-of-time, meaning that React Native apps with Hermes enabled ship with precompiled optimized bytecode instead of plain JavaScript source. This drastically reduces the amount of work needed to start up your product for users. Measurements from both Facebook and community apps have suggested that enabling Hermes often cut a product’s TTI (or <a href="https://web.dev/interactive/" target="_blank" rel="noopener noreferrer">Time-To-Interactive</a>) metric by nearly half.</p>
<p>That being said, we’ve been working on improving Hermes in many other aspects to make it even better as a JavaScript engine specialized for React Native.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="building-a-new-garbage-collector-for-fabric">Building a New Garbage Collector for Fabric<a href="#building-a-new-garbage-collector-for-fabric" class="hash-link" aria-label="Direct link to Building a New Garbage Collector for Fabric" title="Direct link to Building a New Garbage Collector for Fabric">​</a></h3>
<p>With the upcoming <a href="https://github.com/react-native-community/discussions-and-proposals/issues/4" target="_blank" rel="noopener noreferrer">Fabric</a> renderer in the new React Native architecture, it will be possible to synchronously call JavaScript on the UI thread. However, this means if the JavaScript thread takes too long to execute, it can cause noticeable UI frame drops and block user inputs. The <a href="https://reactjs.org/blog/2021/06/08/the-plan-for-react-18.html" target="_blank" rel="noopener noreferrer">concurrent rendering</a> enabled by React <a href="https://reactjs.org/docs/faq-internals.html#what-is-react-fiber" target="_blank" rel="noopener noreferrer">Fiber</a> will avoid scheduling long JavaScript tasks by splitting rendering work into chunks. However, there is another common source of latency from the JavaScript thread — when the JavaScript engine has to “stop the world” to perform a garbage collection (GC).</p>
<p>The previous default garbage collector in Hermes, <a href="https://hermesengine.dev/docs/gengc/" target="_blank" rel="noopener noreferrer">GenGC</a>, was a single-threaded generational garbage collector. The new generations uses a typical semi-space copying strategy, and the old generations uses a mark-compact strategy to make it really good at aggressively returning memory to the operating system. Due to its single-thread, GenGC has the downside of causing long GC pauses. On apps that are as complicated as Facebook for Android, we observed an average pause of 200ms, or 1.4s at p99. We have even seen it be as long as 7 seconds, considering the large and diverse user base of Facebook for Android.</p>
<p>In order to mitigate this, we implemented a brand new <em>mostly concurrent</em> GC named <a href="https://hermesengine.dev/docs/hades" target="_blank" rel="noopener noreferrer">Hades</a>. Hades collects its young generation exactly the same as GenGC, but it manages its old generation with a snapshot-at-the-beginning style mark-sweep collector. which can significantly reduce GC pause time by performing most of its work in a background thread without blocking the engine’s main thread from executing JavaScript code. <strong>Our statistics show that Hades only pauses for 48ms at p99.9 on 64-bit devices (34x faster than GenGC!)</strong> and around 88ms at p99.9 on 32-bit devices (where it operates as a single-threaded <em>incremental</em> GC). These pause time improvements can come at the cost of overall throughput, due to the need for more expensive write barriers, slower freelist based allocation (as opposed to a bump pointer allocator), and increased heap fragmentation. We think those are the right trade-offs, and we were able to achieve overall lower memory consumption via coalescing and additional memory optimizations that we’ll talk about.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="striking-on-performance-pain-points">Striking on Performance Pain Points<a href="#striking-on-performance-pain-points" class="hash-link" aria-label="Direct link to Striking on Performance Pain Points" title="Direct link to Striking on Performance Pain Points">​</a></h3>
<p>Startup time of applications is critical to the success of many apps, and we are continuously pushing the boundary for React Native. For any new JavaScript feature we implement in Hermes, we carefully monitor their impact on production performance and ensure that they don’t regress metrics. At Facebook, we are currently experimenting with a <a href="https://github.com/facebook/react-native/blob/main/packages/react-native-babel-preset/src/configs/main.js#L41" target="_blank" rel="noopener noreferrer">dedicated Babel transform profile for Hermes in Metro</a> to replace a dozen Babel transforms with Hermes’s native ESNext implementations. We were able to observe <strong>18-25% TTI improvements</strong> on many surfaces and <strong>overall bytecode size decreases</strong> and we expect to see similar results for OSS.</p>
<p>In addition to startup performance, we identified memory footprint as an opportunity for improvement in React Native apps especially for <a href="https://reactnative.dev/blog/2021/08/26/many-platform-vision#expanding-to-new-platforms" target="_blank" rel="noopener noreferrer">virtual reality.</a> Thanks to the low-level control we have as a JavaScript engine, we were able to deliver rounds of memory optimizations by squeezing bits and bytes out:</p>
<ol>
<li>Previously, all JavaScript values were represented as 64-bit NaN-boxing encoded tagged values to represent floating point doubles and pointers on 64-bit architecture. However, this is wasteful in practice because most numbers are small integers (SMI) and JavaScript heap of client-side applications is not expected to be larger than 4GiB generally. To address this, we introduced a new 32-bit encoding in which SMI and pointers are encoded in 29 bits (because pointers are 8-byte aligned, we can assume the bottom 3 bits are always zero), and the rest of JS numbers are boxed onto the heap. <strong>This reduced the JavaScript heap size by ~30%.</strong></li>
<li>Different kinds of JavaScript objects are represented as different kinds of GC-managed cells in the JavaScript heap. By aggressively optimizing the memory layout of headers for those cells, <strong>we are able to reduce memory usage by another ~15%</strong>.</li>
</ol>
<p>One of our key decisions with Hermes was to not implement a <a href="https://en.wikipedia.org/wiki/Just-in-time_compilation" target="_blank" rel="noopener noreferrer">just-in-time (JIT) compiler</a> because we believe that for most React Native apps, the additional warm-up costs and extra footprints on binary and memory would not actually be worthwhile. For years, we invested a lot of effort in optimizing interpreter performance and compiler optimizations to make Hermes’s throughput competitive with other engines for React Native workloads. We are continuing to focus on improving throughput by identifying performance bottlenecks from everywhere (interpreter dispatch loop, stack layout, object model, GC, etc.). Expect some more numbers in upcoming releases!</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="pioneering-at-vertical-integrations">Pioneering at Vertical Integrations<a href="#pioneering-at-vertical-integrations" class="hash-link" aria-label="Direct link to Pioneering at Vertical Integrations" title="Direct link to Pioneering at Vertical Integrations">​</a></h3>
<p>At Facebook, we prefer to colocate projects within a large <a href="https://en.wikipedia.org/wiki/Monorepo" target="_blank" rel="noopener noreferrer">monorepo</a>. By having the engine (Hermes) and the host (React Native) closely iterating together, we opened a lot of room for vertical integrations. To name a few:</p>
<ul>
<li>Hermes supports <a href="https://reactnative.dev/docs/hermes#debugging-js-on-hermes-using-google-chromes-devtools" target="_blank" rel="noopener noreferrer">on-device JavaScript debugging with the Chrome debugger</a> by speaking the <a href="https://chromedevtools.github.io/devtools-protocol/" target="_blank" rel="noopener noreferrer">Chrome DevTools Protocol</a>. It’s better than the legacy “<a href="https://reactnative.dev/docs/debugging#chrome-developer-tools" target="_blank" rel="noopener noreferrer">Remote JS Debugging</a>” (which uses an in-app proxy to run JS in desktop Chrome) because it supports debugging synchronous native calls and guaranteed a consistent runtime environment. Together with React DevTools, Metro, Inspector, and so on, Hermes debugger is now part of <a href="https://reactnative.dev/blog/2020/03/26/version-0.62" target="_blank" rel="noopener noreferrer">Flipper</a> to provide a one-stop developer experience.</li>
<li>Objects allocated during the initialization path of React Native apps are often long-lived and don’t follow the <em>generational</em> <em>hypothesis</em> leveraged by generational GCs. Therefore, we <a href="https://github.com/facebook/react-native/blob/main/ReactAndroid/src/main/java/com/facebook/hermes/reactexecutor/OnLoad.cpp#L37-L42" target="_blank" rel="noopener noreferrer">configured Hermes in React Native</a> to allocate the first 32MiB directly into old generations (known as <em>pre-tenuring</em>) to avoid triggering GC pauses and delaying TTI.</li>
<li>The new React Native architecture is heavily based on <a href="https://github.com/react-native-community/discussions-and-proposals/issues/91" target="_blank" rel="noopener noreferrer">JSI (or JavaScript Interface)</a>, a lightweight, general-purposed API for embedding a JavaScript engine into a C++ program. By having the team maintaining the JS engine also maintains the JSI API implementation, we are confident in providing the best possible integration that is reliable, performant and battle-tested at the Facebook’s scale.</li>
<li>Getting JavaScript concurrency primitives (e.g. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises" target="_blank" rel="noopener noreferrer">promises</a>) and platform concurrency primitives (e.g. <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide" target="_blank" rel="noopener noreferrer">microtasks</a>) both semantically correct and performant are critical to React concurrent rendering and the future of React Native apps. Historically, promises in React Native were <a href="https://github.com/facebook/react-native/blob/main/Libraries/Core/polyfillPromise.js#L37" target="_blank" rel="noopener noreferrer">polyfilled</a> using non-standardized <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/setImmediate" target="_blank" rel="noopener noreferrer"><code>setImmediate</code></a> APIs. We are working on making native promises and microtasks from JS engines available via JSI, and introducing <a href="https://developer.mozilla.org/en-US/docs/Web/API/queueMicrotask" target="_blank" rel="noopener noreferrer"><code>queueMicrotask</code></a>, a recent addition to the web standard, to the platform, to better support modern asynchronous JavaScript code.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="bringing-along-the-whole-community">Bringing Along the Whole Community<a href="#bringing-along-the-whole-community" class="hash-link" aria-label="Direct link to Bringing Along the Whole Community" title="Direct link to Bringing Along the Whole Community">​</a></h2>
<p>Hermes has been really great for us at Facebook. But our work is not done until our community can use Hermes to power experiences throughout the ecosystem, so that everyone leverage all of its features and to embrace its full potential.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="expanding-to-new-platforms">Expanding to New Platforms<a href="#expanding-to-new-platforms" class="hash-link" aria-label="Direct link to Expanding to New Platforms" title="Direct link to Expanding to New Platforms">​</a></h3>
<p>Hermes was initially open sourced only for React Native on Android. Since then, we have been thrilled to see our members of the community expanding Hermes support into <a href="https://reactnative.dev/blog/2021/08/26/many-platform-vision" target="_blank" rel="noopener noreferrer">many other platforms that React Native’s ecosystem has expanded</a>.</p>
<p><a href="https://callstack.com/" target="_blank" rel="noopener noreferrer">Callstack</a> led the effort of bringing <a href="https://reactnative.dev/blog/2021/03/12/version-0.64" target="_blank" rel="noopener noreferrer">Hermes to iOS in React Native 0.64</a>. They wrote a <a href="https://callstack.com/blog/bringing-hermes-to-ios-in-react-native/" target="_blank" rel="noopener noreferrer">series of articles</a> and hosted a <a href="https://callstack.com/podcasts/react-native-0-64-with-hermes-for-ios-ep-5" target="_blank" rel="noopener noreferrer">podcast</a> on how they achieved it. According to their benchmarks, Hermes was able to <strong>consistently deliver ~40% improvement to startup and ~18% reduced memory on iOS</strong> compared to JSC for the Mattermost app, with only 2.4 MiB of app size overhead. I encourage you to <a href="https://callstack.com/blog/hermes-performance-on-ios/" target="_blank" rel="noopener noreferrer">see it live with your own eyes</a>.</p>
<p>Microsoft has been bringing <a href="https://microsoft.github.io/react-native-windows/docs/hermes" target="_blank" rel="noopener noreferrer">Hermes to React Native for Windows and macOS</a>. <a href="https://youtu.be/QMFbrHZnvvw?t=389" target="_blank" rel="noopener noreferrer">At Microsoft Build 2020</a>, Microsoft shared that Hermes’s memory impact (<a href="https://en.wikipedia.org/wiki/Working_set" target="_blank" rel="noopener noreferrer">working set</a>) is 13% lower than the Chakra engine on React Native for Windows. Recently, on some synthetic benchmarks, they’ve found Hermes 0.8 (shipped with Hades and aforementioned SMI and pointer compression optimization) <strong>uses 30%-40% less memory than other engines</strong>. Not surprisingly, the <a href="https://www.messenger.com/desktop" target="_blank" rel="noopener noreferrer">desktop Messenger</a> video calling experience built on React Native, is also powered by Hermes.</p>
<p>Last but not least, Hermes has also been powering all virtual reality experiences built with the React family of technologies on Oculus, including Oculus Home.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="supporting-our-community">Supporting our Community<a href="#supporting-our-community" class="hash-link" aria-label="Direct link to Supporting our Community" title="Direct link to Supporting our Community">​</a></h3>
<p>We acknowledge there are still blockers that prevent parts of the community from adopting Hermes and we are committed to building support for these missing features. Our goal is to be fully featured so that Hermes is the right choice for most React Native apps. Here is how the community has already shaped the Hermes roadmap:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Meta_programming" target="_blank" rel="noopener noreferrer"><code>Proxy</code> and <code>Reflect</code></a> were originally excluded from Hermes because Facebook does not use them. We were also concerned that adding Proxy would hurt property lookup performance even when Proxy is not used. But Proxy quickly become <a href="https://github.com/facebook/hermes/issues/33" target="_blank" rel="noopener noreferrer">the most requested feature</a> of Hermes due to popular libraries such as <a href="https://mobx.js.org/README.html" target="_blank" rel="noopener noreferrer">MobX</a> and <a href="https://immerjs.github.io/immer/" target="_blank" rel="noopener noreferrer">Immer</a>. We carefully evaluated and decided to build it just for the community, and we managed to implement it with very low cost. Since this is a feature we don’t use, we relied on our community to prove its stability. We started by testing Proxy behind a flag and created opt-in npm packages for <a href="https://github.com/facebook/hermes/issues/33#issuecomment-668374607" target="_blank" rel="noopener noreferrer">release v0.4</a> and <a href="https://github.com/facebook/hermes/issues/33#issuecomment-668374607" target="_blank" rel="noopener noreferrer">v0.5</a>, and it’s <a href="https://github.com/facebook/hermes/releases/tag/v0.7.0" target="_blank" rel="noopener noreferrer">enabled by default starting from v0.7</a>.</li>
<li><a href="https://hermesengine.dev/docs/intl" target="_blank" rel="noopener noreferrer">ECMAScript Internationalization API Specification (ECMA-402, or <code>Intl</code>)</a> was <a href="https://github.com/facebook/hermes/issues/23" target="_blank" rel="noopener noreferrer">the second most requested feature</a>. <code>Intl</code> is a huge set of APIs and often requires the implementation to include <strong>6MB worth</strong> of <a href="https://cldr.unicode.org/index" target="_blank" rel="noopener noreferrer">Unicode CLDR</a> data. This is why polyfills like <a href="https://github.com/formatjs/formatjs" target="_blank" rel="noopener noreferrer">FormatJS (a.k.a. <code>react-intl</code>)</a> and JS engines like the <a href="https://github.com/react-native-community/jsc-android-buildscripts#international-variant" target="_blank" rel="noopener noreferrer">international variant build of community JSC</a> are so huge. To avoid substantially increasing the binary size of Hermes, we decided to implement it with another strategy by consuming and mapping the ICU facilities provided by the libraries included in the operating systems, at the cost of some (often minor) variance in behaviors across platforms.<!-- -->
<ul>
<li>Microsoft collaborated to build support on Android. It covers almost everything from ECMA-402 up to ES2020, <strong>with only a size impact as small as 3% (57-62K per ABI)</strong>. We ran <a href="https://twitter.com/tmikov/status/1336442786694893568" target="_blank" rel="noopener noreferrer">a poll on Twitter</a> and the results were strongly in favor of including <code>Intl</code> by default, so that’s what we did and it’s available starting from <a href="https://github.com/facebook/hermes/releases/tag/v0.8.0" target="_blank" rel="noopener noreferrer">release v0.8</a>.</li>
<li>Facebook has sponsored <a href="https://mlh.io/" target="_blank" rel="noopener noreferrer">Major League Hacking</a> to launch a <a href="https://news.mlh.io/welcoming-facebook-back-as-a-sponsor-of-the-2020-2021-mlh-fellowship-08-12-2020" target="_blank" rel="noopener noreferrer">remote open source fellowship program</a>. Last year, we launched the <a href="https://reactnative.dev/docs/profile-hermes" target="_blank" rel="noopener noreferrer">Hermes sampling profiler</a>. This year, our fellows will be working with members from Hermes, React Native, and Callstack, to add support for Hermes <code>Intl</code> on iOS. Stayed tuned!</li>
</ul>
</li>
<li>We appreciate that people have been working with us to discover issues affecting the community.<!-- -->
<ul>
<li>People have helped us identify critical spec divergence such as <a href="https://github.com/facebook/hermes/issues/212" target="_blank" rel="noopener noreferrer">stability of <code>Array.prototype.sort</code></a> amended in <a href="https://github.com/tc39/ecma262/pull/1340" target="_blank" rel="noopener noreferrer">ES2019</a>. This has been fixed and will be available in the next release.</li>
<li>People found out that our default heap size limit was too small and caused <a href="https://github.com/facebook/hermes/issues/295" target="_blank" rel="noopener noreferrer">unnecessary GC pressure</a> and <a href="https://github.com/facebook/hermes/issues/511" target="_blank" rel="noopener noreferrer">OOM crashes</a> for many users who are not familiar with customizing Hermes’s GC configs. So we increased it from 512MiB to 3GiB to be more than sufficient for most users by default.</li>
<li>People also reported that our specialized <code>Function.prototype.toString</code> implementation <a href="https://github.com/facebook/hermes/issues/471#issuecomment-820123463" target="_blank" rel="noopener noreferrer">caused performance to drop in libraries doing improper feature detection</a> and <a href="https://github.com/facebook/hermes/issues/114#issuecomment-887106990" target="_blank" rel="noopener noreferrer">blocked users from doing source code injecting</a>. This helped us strengthen our stance that Hermes, whenever possible, should not get in the way of developers and to respect de-facto practices.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2>
<p>In summary, our vision is to make Hermes ready to be the default JavaScript engine across all React Native platforms. We’ve already started working towards it, and we want to hear from all of you about this direction.</p>
<p>It’s extremely important for us to prepare the ecosystem for a smooth adoption. We encourage you to try out Hermes, and file issues on our <a href="https://github.com/facebook/hermes" target="_blank" rel="noopener noreferrer">GitHub repository</a> for any feedbacks, questions, feature requests and incompatibilities.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="thanks">Thanks<a href="#thanks" class="hash-link" aria-label="Direct link to Thanks" title="Direct link to Thanks">​</a></h2>
<p>We’d love to thank the Hermes team, the React Native team, and the many contributors from the React Native community for their work to improve Hermes.</p>
<p>I’d also love to personally thank (in alphabetic order) Eli White, Luna Wei, Neil Dhar, Tim Yung, Tzvetan Mikov, and many others for their help during the writing.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_JgJa"><div class="col"><b>Tags:</b><ul class="tags_Ow0B padding--none margin-left--sm"><li class="tag_DFxh"><a class="tag_otG2 tagRegular_s0E1" href="/blog/tags/announcement">announcement</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2022/01/19/version-067"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Announcing React Native 0.67</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2021/10/01/version-066"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Announcing React Native 0.66</div></a></nav></main><div class="col col--2"><div class="tableOfContents_XG6w thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#optimizing-for-react-native" class="table-of-contents__link toc-highlight">Optimizing for React Native</a><ul><li><a href="#building-a-new-garbage-collector-for-fabric" class="table-of-contents__link toc-highlight">Building a New Garbage Collector for Fabric</a></li><li><a href="#striking-on-performance-pain-points" class="table-of-contents__link toc-highlight">Striking on Performance Pain Points</a></li><li><a href="#pioneering-at-vertical-integrations" class="table-of-contents__link toc-highlight">Pioneering at Vertical Integrations</a></li></ul></li><li><a href="#bringing-along-the-whole-community" class="table-of-contents__link toc-highlight">Bringing Along the Whole Community</a><ul><li><a href="#expanding-to-new-platforms" class="table-of-contents__link toc-highlight">Expanding to New Platforms</a></li><li><a href="#supporting-our-community" class="table-of-contents__link toc-highlight">Supporting our Community</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#thanks" class="table-of-contents__link toc-highlight">Thanks</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Develop</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/components-and-apis">Components</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/accessibilityinfo">APIs</a></li><li class="footer__item"><a class="footer__link-item" href="/architecture/overview">Architecture</a></li></ul></div><div class="col footer__col"><div class="footer__title">Participate</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/showcase">Showcase</a></li><li class="footer__item"><a class="footer__link-item" href="/contributing/overview">Contributing</a></li><li class="footer__item"><a class="footer__link-item" href="/community/overview">Community</a></li><li class="footer__item"><a href="https://reactnative.directory/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Directory<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/react-native" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Find us</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://twitter.com/reactnative" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/facebook/react-native" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Explore More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://reactjs.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ReactJS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Service<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.fb.com/" rel="noopener noreferrer" class="footerLogoLink_tutC"><img src="/img/oss_logo.svg" alt="Meta Open Source Logo" class="footer__logo themedComponent_siVc themedComponent--light_hHel"><img src="/img/oss_logo.svg" alt="Meta Open Source Logo" class="footer__logo themedComponent_siVc themedComponent--dark_yETr"></a></div><div class="footer__copyright">Copyright © 2024 Meta Platforms, Inc.</div></div></div></footer></div>
</body>
</html>